<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Regal Caf√© ‚Äì Scan to Order</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Regal Caf√© ‚òï</h1>
    <div id="tableId">Table: ‚Äî</div>
  </header>

  <section class="category-buttons" id="categoryFilters">
    <button data-category="All">All</button>
    <button data-category="Appetizers">Appetizers</button>
    <button data-category="Pizzeria">Pizzeria</button>
    <button data-category="Cold Brews">Cold Brews</button>
    <button data-category="Beverages">Beverages</button>
    <button data-category="Main Course">Main Course</button>
    <button data-category="Desserts">Desserts</button>
    <button data-category="Soups">Desserts</button>
    <button data-category="Icecreams">Icecreams(Scoops)</button>
  </section>

  <main>
    <div class="menu-grid" id="menuGrid"></div>
  </main>

  <footer>
    <div id="orderSummary">No items added yet.</div>
    <button id="submitOrder">Submit Order via WhatsApp</button>
  </footer>
  <script>
    const menuItems = [
      { name: "Cold Coffee", price: 80, img: "images/cold-coffee.jpg", category: "Cold Brews" },
      { name: "Iced Chocolate Coffee", price: 80, img: "images/choco-coffee.jpg", category: "Cold Brews" },
      { name: "Mango Smoothie", price: 50, img: "images/mango-smoothie.jpg", category: "Beverages" },
      { name: "Pineapple Smoothie", price: 50, img: "images/pineapple-smoothie.jpg", category: "Beverages" },
      { name: "Lime Soda", price: 50, img: "images/lime-soda.jpg", category: "Beverages" },
      { name: "Black Currant Smoothie", price: 50, img: "images/blackcurrant-smoothie.jpg", category: "Beverages" },
      { name: "Margherita Pizza", price: 50, img: "images/margherita-pizza.jpg", category: "Pizzeria" },
      { name: "Sweet Corn Pizza", price: 50, img: "images/sweetcorn-pizza.jpg", category: "Pizzeria" },
      { name: "Peri Peri Chicken Pizza", price: 50, img: "images/perichicken-pizza.jpg", category: "Pizzeria" },
      { name: "Peri Peri Paneer Pizza", price: 50, img: "images/paneer-pizza.jpg", category: "Pizzeria" },
      { name: "mediterranean Pizza", price: 50, img: "images/mediterranean-pizza.jpg", category: "Pizzeria" },
      { name: "Mojito", price: 70, img: "images/mojito.jpg", category: "Beverages" },
      { name: "French Fries", price: 90, img: "images/french-fries.jpg", category: "Appetizers" },
      { name: "Peri Peri French Fries", price: 90, img: "images/french-fries.jpg", category: "Appetizers" },
      { name: "Cottage Cheese Paneer Sandwich", price: 110, img: "images/paneer-sandwich.jpg", category: "Appetizers" },
      { name: "Oreo Shake", price: 100, img: "images/oreo-shake.jpg", category: "Cold Brews" },
      { name: "CLubhouse Sandwich", price: 110, img: "images/club-sandwich.jpg", category: "Appetizers" },
      { name: "Regal Sandwich", price: 110, img: "images/regal-sandwich.jpg", category: "Appetizers" },

      { name: "Samosa(6pcs)", price: 110, img: "images/samosa.jpg", category: "Appetizers" },
      { name: "Jalape√±o Cheese Samosa(6pcs)", price: 110, img: "images/jalapeno-samosa.jpg", category: "Appetizers" },
      { name: "Chicken Cheese Samosa(6pcs)", price: 110, img: "images/chicken-samosa.jpg", category: "Appetizers" },
      
      { name: "Roasted Pumpkin Coconut Soup", price: 60, img: "images/pumpkin-soup.jpg", category: "Soups" },
      { name: "Cream Broccoli Soup", price: 60, img: "images/broccoli-soup.jpg", category: "Soups" },
      { name: "Hot & Sour Soup(Veg)", price: 60, img: "images/hotsour-soup.jpg", category: "Soups" },
      { name: "Hot & Sour Soup(Non-Veg)", price: 60, img: "images/hotsour-soup.jpg", category: "Soups" },
      { name: "Manchow Soup(Veg)", price: 60, img: "images/manchow-soup.jpg", category: "Soups" },
      { name: "Manchow Soup(Non-Veg)", price: 60, img: "images/manchow-soup.jpg", category: "Soups" },

      { name: "Hakka Noodles(Veg)", price: 60, img: "images/hakka-noodles.jpg", category: "Main Course" },
      { name: "Hakka Noodles(Non-Veg)", price: 60, img: "images/hakka-noodles.jpg", category: "Main Course" },
      { name: "Fried Rice(Veg)", price: 60, img: "images/fried-rice.jpg", category: "Main Course" },
      { name: "Fried Rice(Non-Veg)", price: 60, img: "images/fried-rice.jpg", category: "Main Course" },
      { name: "Fried Rice(Egg)", price: 60, img: "images/fried-rice.jpg", category: "Main Course" },

      { name: "Penne Arrabiata Pasta", price: 60, img: "images/penne.jpg", category: "Main Course" },
      { name: "Macaroni Pasta", price: 60, img: "images/macaroni.jpg", category: "Main Course" },
      { name: "Spaghetti Pasta", price: 60, img: "images/spaghetti.jpg", category: "Main Course" },

      { name: "Chicken Nuggets", price: 110, img: "images/chicken-nuggets.jpg", category: "Appetizers" },
      { name: "Veg Nuggets", price: 110, img: "images/veg-nuggets.jpg", category: "Appetizers" },
      { name: "Potato Wedges", price: 110, img: "images/potato-wedges.jpg", category: "Appetizers" },

      { name: "Veggie burger", price: 110, img: "images/veg-burger.jpg", category: "Appetizers" },
      { name: "Chicken burger", price: 110, img: "images/chicken-burger.jpg", category: "Appetizers" },
      { name: "Peri Peri Chicken burger", price: 110, img: "images/regal-sandwich.jpg", category: "Appetizers" },

      { name: "Chilli Chicken", price: 110, img: "images/chicken-chilli.jpg", category: "Appetizers" },
      { name: "Chilli Paneer", price: 110, img: "images/paneer-chill.jpg", category: "Appetizers" },
      { name: "Gobi Manchurian", price: 110, img: "images/gobi.jpg", category: "Appetizers" },

      
      { name: "Sizzling Brownie", price: 100, img: "images/brownie.jpg", category: "Desserts" },
      { name: "Brownie With Vanilla Scoop", price: 100, img: "images/sizzling-brownie.jpg", category: "Desserts" },
      { name: "Vanilla Scoop", price: 100, img: "images/vanilla-ice.jpg", category: "Icecreams" },
      { name: "Alphonso Mango Scoop", price: 100, img: "images/mango-ice.jpg", category: "Icecreams" },
      { name: "Chocolate Scoop", price: 100, img: "images/choco-ice.jpg", category: "Icecreams" },
      { name: "Butterscotch Scoop", price: 100, img: "images/butterscotch-ice.jpg", category: "Icecreams" }
    ];
  
    const cart = {};
  
    // Read table number from URL (e.g., ?table=3)
    const urlParams = new URLSearchParams(window.location.search);
    const tableNum = urlParams.get('table') || '‚Äî';
    document.getElementById("tableId").innerText = `Table: ${tableNum}`;
  
    function updateQty(itemKey, delta) {
      cart[itemKey] = (cart[itemKey] || 0) + delta;
      if (cart[itemKey] < 0) cart[itemKey] = 0;
      document.getElementById(`qty-${itemKey}`).innerText = cart[itemKey];
      updateOrderSummary();
    }
  
    function updateOrderSummary() {
      let summary = '';
      let total = 0;
      for (const [key, qty] of Object.entries(cart)) {
        if (qty > 0) {
          const item = menuItems[key];
          summary += `${qty} √ó ${item.name} = ‚Çπ${item.price * qty}\n`;
          total += item.price * qty;
        }
      }
      document.getElementById('orderSummary').innerText = summary || 'No items added yet.';
    }
  
    function renderMenu(category = "All") {
      const grid = document.getElementById("menuGrid");
      grid.innerHTML = "";
      const filtered = category === "All"
        ? menuItems
        : menuItems.filter(item => item.category === category);
  
      filtered.forEach(item => {
        const itemKey = menuItems.indexOf(item); // Keep global index
        const div = document.createElement("div");
        div.className = "menu-item";
        div.innerHTML = `
          <img src="${item.img}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p>‚Çπ${item.price}</p>
          <div class="qty-controls">
            <button onclick="updateQty(${itemKey}, -1)">‚Äì</button>
            <span id="qty-${itemKey}">${cart[itemKey] || 0}</span>
            <button onclick="updateQty(${itemKey}, 1)">+</button>
          </div>
        `;
        grid.appendChild(div);
      });
    }
  
    document.querySelectorAll("#categoryFilters button").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll("#categoryFilters button").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        renderMenu(btn.dataset.category);
      });
    });
  
    document.getElementById('submitOrder').addEventListener('click', () => {
      const lines = [];
      let total = 0;
      for (const [key, qty] of Object.entries(cart)) {
        if (qty > 0) {
          const item = menuItems[key];
          lines.push(`${qty} √ó ${item.name} ‚Äî ‚Çπ${item.price * qty}`);
          total += item.price * qty;
        }
      }
  
      if (!lines.length) return alert('Please add items to your order.');
  
      const now = new Date();
      const formattedTime = now.toLocaleString('en-IN', {
        hour: 'numeric',
        minute: '2-digit',
        hour12: true,
        day: '2-digit',
        month: 'short',
        year: 'numeric'
      });
  
      const summaryText =
        `üõéÔ∏è Order from Regal Caf√©\nüìç Table: ${tableNum}\n\n` +
        lines.join('\n') +
        `\n\nüí∞ Total: ‚Çπ${total}\nüóìÔ∏è Order placed on: ${formattedTime}`;
  
      const w = window.open("", "_blank", "width=400,height=600");
      w.document.write(`
        <style>
          body { font-family: sans-serif; background: #f8f8f8; padding: 20px; color: #111; }
          pre { white-space: pre-wrap; background: #fff; border: 1px solid #ccc; padding: 12px; border-radius: 8px; }
          a.button { display: block; margin-top: 15px; background: #25d366; color: white; padding: 10px 20px; text-align: center; border-radius: 8px; font-size: 16px; text-decoration: none; }
        </style>
        <h2>Order Summary</h2>
        <pre>${summaryText}</pre>
        <a class="button" href="https://wa.me/919864992532?text=${encodeURIComponent(summaryText)}" target="_blank">üì≤ Send via WhatsApp</a>
      `);
    });
  
    renderMenu();
  </script>  
</body>
</html>
